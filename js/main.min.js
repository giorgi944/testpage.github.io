(function(){var e,a={}.hasOwnProperty;$(document).on("click",'button[data-click="submit-loan-form"]',function(e){var t,r,o,n,s;return e.preventDefault(),t=$(this),r=$("#loan-form"),s=r.attr("action"),o=new FormData(r[0]),r.prop("disabled",!0),t.prop("disabled",!0),(n=new XMLHttpRequest).open("POST",s),n.onload=function(e){var o,s,l,d;if(e=JSON.parse(n.responseText),200===n.status){if($("#loan-form .invalid").removeClass("invalid"),$("#loan-form .input-has-error").removeClass("invalid"),r.prop("disabled",!1),t.prop("disabled",!1),e.success)return t.prop("disabled",!0),$(".success-title").html(e.message.title),$(".success-content").html(e.message.content),$("#loan-form-container").addClass("form-success"),$("#loan-form-container .btn-large").addClass("hide"),$("#loan-form-container .form-success-btn").removeClass("hide"),dataLayer.push({event:"formSuccess"});e.popup&&($("#form-popup-text").text(e.message),$(".modal").modal(),$("#modal1").modal("open")),l=e.errors,d=[];for(s in l)a.call(l,s)&&(o=l[s],"passport"===s?($(".file-upload-field-container").addClass("input-has-error"),$(".file-upload-field-container").attr("data-error",o[0])):($('#loan-form [name="'+s+'"]').addClass("invalid"),$('#loan-form [name="'+s+'"]').parent().addClass("input-has-error"),$('#loan-form [name="'+s+'"]').next("label").attr("data-error",o[0]),$('#loan-form [name="'+s+'"]').one("focus",function(e){if($(this).removeClass("invalid"),$(this).parent().removeClass("input-has-error"),"agreement"===s)return $(".terms-container").removeClass("input-has-error")})),"agreement"===s?d.push($(".terms-container").addClass("input-has-error")):d.push(void 0));return d}return console.log(e)},n.send(o),!1}),$(document).on("click",'[data-click="open-terms"]',function(e){return e.preventDefault(),$(".terms-text").removeClass("terms-condenced"),$(this).addClass("hide"),$('.open-terms-link[data-click="close-terms"]').removeClass("hide"),$("#agreement").prop("disabled")&&($("#agreement").prop("disabled",!1),$("#agreement").parent().tooltip("remove")),!1}),$(document).on("click",'[data-click="close-terms"]',function(e){return e.preventDefault(),$(".terms-text").addClass("terms-condenced"),$(this).addClass("hide"),$('.open-terms-link[data-click="open-terms"]').removeClass("hide"),$("#agreement").prop("disabled")||($("#agreement").prop("checked",!1),$("#agreement").prop("disabled",!0),$("#agreement").parent().tooltip()),!1}),$(document).on("change","#passport",function(e){var a;return a=this.files.length>0?this.files[0].name:$(this).data("default-text"),$(".file-upload-field").text(a),$(this).parent().removeClass("input-has-error")}),$(document).on("click",'[data-click="smooth-scroll"]',function(e){var a;return e.preventDefault(),a=$(this).attr("href"),console.log(a),a=$(a).offset(),$("html, body").animate({scrollTop:a.top},500)}),$(window).scroll(function(){$(window).scrollTop()>=30?$("#dabali-navbar").addClass("navbar-is-fixed"):$("#dabali-navbar").removeClass("navbar-is-fixed")}),e=function(e){-1!==$.inArray(e.keyCode,[46,8,9,27,13,110])||65===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||e.keyCode>=35&&e.keyCode<=40||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()},$("#phone_number").keydown(e),$("#personal_number").keydown(e),$("#name").geokbd(),$("#lastname").geokbd()}).call(this);